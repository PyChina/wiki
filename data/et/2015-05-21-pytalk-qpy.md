# QPython : 掌上的Python 
~ Python讲坛(01)@线上

- 主题简介:主要包括QPython 是如何开始到发展的,与pc相比的差异,还有未来的思考;
- 演讲嘉宾:River, QPython作者
- 演讲时间:5月21日(周四) 21:12 - 22:22
- 演讲方式:线上交流(微信)
- 演讲安排:
    + 前45分钟,讲师分享,PPT截图 + 文字(单向)
    + 后25分钟,互动交流(双向)
- 补充说明:
    + 互动环节往往很精彩,请大家提前准备好各种问题
- 嘉宾简介:River, QPython作者, 
    + 现居南宁, GDG 南宁核心组织者;
    + Quseit Lab 创始人;
    + 前Zynga任高级系统研发工程师,
    + 前绿盟科技产品经理,
    + 前新浪邮件系统开发工程师. 
    + 喜欢历史,旅行,电影,写代码. 
- 相关链接:
    + [QPython community](http://qpython.org/)
    + [Quseit Lab - Google Play 上的 Andr oid 应用](https://play.google.com/store/apps/developer?id=Quseit+Lab)

## 记要
 
将,大致回顾一下 QPython 的历史/由来/开发经验/特点以及未来的设想

幻灯使用移动版本 WPS 制作的,共同习惯这种全新的分享形式吧

### 很久很久以前

原需求是 Android 应用总是变动,所以,需要有一种快速直接在移动端部署代码的需求

最开始 QPython 不是独立 app. 只是个解析引擎,能在 android 应用中解析 py 脚本,
并将调用请求反馈给原生程序;

原先只是感觉好玩,果断变成一个独立 app. 时,遇到越来越多的问题,
原先嘦处理好单纯的解析和请求转发就好.

变成独立产品后,就必须深入思考:

- 什么形式?
- 解决什么用户问题?
- 如何组织代码?
- ...


在迭代过程中,其实参考了很多现成的 app.

最终形成了自个儿的设计理念:

- 开始只是用控制台结合 SL4A 实现
- 再后来,只是自个儿折腾,感觉手机上没有靠谱的编辑器,怎么都不爽利
- 于是移植了另外一个开源编辑器,并深入完善后,变成了现在的 `QEditor`
- 进一步,为了解决手机上代码输入的问题, 使用了 QRcode 的相关库,实现了可以通过图片形式输入代码!
- 再后来,发现面向移动端 Py 环境的库总是不够
    + 于是,干脆创建了 `QPyPi` 概念
    + 试图维护一个跨平台 Py 库中心
    + 只是因为问题,到现在也没有完备的建立好跨平台编译链
- 继续折腾,以至在 PyShop 基础上,专门发布了 `QPyPi` 的客户端
- 当然,至今 QPython 还是一个玩具,只是为了满足自个儿的爱好
- 终于,有一天,感觉必须有一个能用 Python 开发一个完备的 Android app. 的环境
- 和大妈沟通后, 决定将 Bottle 内置,支持 web app. 的开发


所以,整个儿的事儿,就是一边折腾,一边积累,最终自然变成今天这种形式

- 有意思功能主要有:
    + 基于 SL4A , 基于 NFC 可以对 Android 环境发送相关消息
    + 一个经过深入改造的编辑器,但是,自动缩进等高级功能还没有,真心没那么简单哪!
        + 有个老外一直跟进 QPython,但是,语言沟通问题,虽然邀请进入了 github 团队,可惜一直没有活跃起来
    + 当前支持的能力:
        * 控制台式的 CLI
        * 基于 Kivy 的图形模式
        * 基于 web app 的网页模式
        * 由于技术原因,必须要有明确的声明,才能从一般模式切换到 OpenGL 模式
- 说到当前有趣的应用?
    + 其实, 就是基于 QPython 可以将原先 PC 的经验快速迁移到 移动端
    + 比如, 比特币 的挖矿机的监控
    + 以及 安全监控的报警
    + ...
- 回到当前开发状态:
    + 因为创业,所以,当前只能业务进行推进
    + 所以,决策后,主要精力放在 web app. 方面
    + 为什么呢?
        * 因为 web 应用专发非常快
        * 可以将主要精力放在业务逻辑
        * 而且,可以直接将PC 端的经验复用
        * 主要是 Android 本身可以视作 Linux 
        * 在移动端跑 web 网站,比并 phonegap 之类要直觉的多

QPython 的独特之处

- 因为移动端的输入问题
- 当前通过 QRCODE 图片输入
- 以及 ftp 渠道,可以直接进行代码传送
- 当然,关注的是对 PC 的补充,可以和移动端,可以方便的结合起来,完成设想
- 当前文档在持续增补,以便大家简单练习后,就可以快速上手,实现各种小工具
- 当然,也期望能在企业领域有所发挥
    + 当前,已基于微信,用 QPython 实现了一个相关应用
    + 以后,大家就可以快速定制相关企业应用了

对于未来的规划

- 其实,现在来看, 手机就是一种服务器
- 最后想走有商业模式的 OSS 路线
    + 其实有老外用户有联系,想进行尝试
    + 可惜,种种原因,没有继续下去
- 当前 play 市场上
    + 点评 10000+
    + 安装已经过百万了
    + 当然,都是兴趣驱动
    + 和一位小伙伴,在业务时间坚持折腾中
    + 欢迎大家加入, 共同折腾

## QA

有关键盘的支持

- 目前还在进行探索
- 期望能通过某种机制,提供来自 web 界面的键盘
- 直接接收外部键盘的输入信号
- 这样就可以在移动端快速完成输入
- 听众反应:
    + "前几年尝试过， 最后因为虚拟键盘问题 始终没法很顺畅的在移动端写代码"
    + "当年用plam和pocket pc上的 pocketc ， plam的版本附带一些按钮辅助输入法的不足， pocket pc上是有比较好用的键盘，这两个结合都让输入相对容易些"
    + ...
- 大妈乱入: [如何自在的折腾QPy |QPython |Python for Android](http://codelab.qpython.org/pythonic/init-my-qpy-env.html)
    + 其实,完全可以利用现有的工具组合,解决输入问题
- River 也承认:
    + 我们自己目前很多时候都是在pc上写好服务，然后传上去跑[呲牙]
    + 在qpython中可以快速编辑来加些调试代码定位问题

